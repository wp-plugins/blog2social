jQuery.noConflict();
jQuery(document).ready(function(){jQuery("#btnNetworkSent").show();jQuery("#btnNetworkNavBar").show();jQuery("a[rel*=fbView]").leanModal({top:200,overlay:.4,closeButton:".modal_close"});jQuery(".preview").click(function(){var isCheckedImage=false;var id=jQuery(this).attr("id");var fbUrl=jQuery("#fbPreviewUrl-"+id).val();jQuery("#fbUrl").html("").text(fbUrl);jQuery("#fbContent").text(jQuery("#facebook_textarea_"+id).val());jQuery(".checkNetworkImage").each(function(){if(jQuery(this).prop("checked")){isCheckedImage=true;
jQuery("#demoImg").show();jQuery("#demoImg").attr("src",jQuery(this).val())}if(!isCheckedImage)jQuery("#demoImg").hide()})});jQuery("#btnNetworkNavBar").click(function(){jQuery("#btnNetworkSent").trigger("click")});jQuery(window).scroll(function(){var value=jQuery(document).height()-(parseInt(jQuery(window).height())+parseInt(200));if(jQuery(window).scrollTop()>=value)jQuery("#b2sNavbarFooter").hide();else jQuery("#b2sNavbarFooter").show()});var mandantSelect=jQuery("#mandant_id_select").val();if(mandantSelect!=
"0"){var mandantName=jQuery("#mandant-name-"+mandantSelect).html();jQuery("#mandant-name-select").html(mandantName)}jQuery(".mandantLoad").click(function(){jQuery(".sentNetwork").hide();jQuery(".mandant").hide();jQuery("#b2sLoader").show();var postId=jQuery("#postId").val();var data=jQuery.parseJSON(jQuery(this).attr("rel"));var mandant_id=unescape(data.mandant_id);window.location.href=window.location.pathname+"?page=sentNetwork&mandant="+mandant_id+"&postId="+postId;return false});jQuery(document).on("keyup",
".checkContent",function(){var text=jQuery(this).val();var regX=/(<([^>]+)>)/ig;if(text.match(regX)!=null){jQuery(this).val(" ");jQuery(this).val(text.replace(regX,""))}});jQuery(".networkCheckBox").change(function(){var n=jQuery(".networkCheckBox:checked").length;if(parseInt(n)===0){jQuery("#noNetworkSelect").show();var body=jQuery("html, body");body.animate({scrollTop:0},"500")}else jQuery("#noNetworkSelect").hide()});jQuery.validator.addMethod("checkUrl",function(value,element,regexp){var re=new RegExp(regexp);
return this.optional(element)||re.test(value)},"Invalid Url");jQuery("#b2sNetworkSent").validate({ignore:"",rules:{"network[2][profil][url]":{checkUrl:/^(https?:\/\/)?([\da-zA-Z\u00e4\u00f6\u00fc\u00c4\u00d6\u00dc\.-]+)\.([a-zA-Z\.]{2,7})([\/\w \.-]*)*\/?$/},"network[8][profil][url]":{checkUrl:/^(https?:\/\/)?([\da-zA-Z\u00e4\u00f6\u00fc\u00c4\u00d6\u00dc\.-]+)\.([a-zA-Z\.]{2,7})([\/\w \.-]*)*\/?$/}},errorPlacement:function(){return false},submitHandler:function(form){if(!checkSelectNetwork()){jQuery("#noNetworkSelect").show();
var body=jQuery("html, body");body.animate({scrollTop:0},"500");return false}jQuery("#b2sLoader").show();jQuery(".sentNetwork").hide();jQuery(".mandant").hide();var lang=jQuery("#lang").val();jQuery.ajax({processData:false,url:window.location.pathname+"?page=blog2social&b2sConnect=sentB2S&lang="+lang,type:"POST",dataType:"json",cache:false,data:jQuery(form).serialize(),success:function(data){var result=unescape(data["result"]);var error=unescape(data["error"]);var network_id=unescape(data["network_id"]);
if(result=="1"&&network_id!="0"){window.location.href=window.location.pathname+"?page=reportB2S&reportId="+network_id;return false}else{if(error!="undefined"||error!=NULL||error!=""||error!=" ")error="NO_DATA";jQuery("#b2sLoader").hide();jQuery(".sentNetwork").show();jQuery(".mandant").show();jQuery(".networkError").hide();jQuery("#"+error).show()}}})}})});function checkSelectNetwork(){var n=jQuery(".networkCheckBox:checked").length;if(parseInt(n)===0)return false;else return true}
function setProfile(type){if(jQuery("#"+type+"_checkbox_profil").prop("checked")){jQuery("#"+type+"_textarea_profil").removeAttr("disabled");jQuery("#"+type+"_textarea_profil").removeClass("off");jQuery("."+type+"_tags").removeAttr("disabled");jQuery("."+type+"_tags").removeClass("off");jQuery("#"+type+"_url").removeAttr("disabled");jQuery("#"+type+"_url").removeClass("off");jQuery("#"+type+"-tag-btn").show()}else{jQuery("#"+type+"_textarea_profil").attr("disabled","disabled");jQuery("#"+type+"_textarea_profil").removeClass("off").addClass("off");
jQuery("#"+type+"_url").attr("disabled","disabled");jQuery("#"+type+"_url").removeClass("off").addClass("off");jQuery("."+type+"_tags").attr("disabled","disabled");jQuery("."+type+"_tags").removeClass("off").addClass("off");jQuery("#"+type+"-tag-btn").hide()}}
function setPage(type){if(jQuery("#"+type+"_checkbox_page").prop("checked")){jQuery("#"+type+"_textarea_page").removeAttr("disabled");jQuery("#"+type+"_textarea_page").removeClass("off")}else{jQuery("#"+type+"_textarea_page").attr("disabled","disabled");jQuery("#"+type+"_textarea_page").removeClass("off").addClass("off")}}
function setGroup(type){if(jQuery("#"+type+"_checkbox_group").prop("checked")){jQuery("#"+type+"_textarea_group").removeAttr("disabled");jQuery("#"+type+"_textarea_group").removeClass("off")}else{jQuery("#"+type+"_textarea_group").attr("disabled","disabled");jQuery("#"+type+"_textarea_group").removeClass("off").addClass("off")}}
function addTag(type,id){jQuery("#"+type+"-tag-div").before('<div class="'+type+'_check_tags tag-div-float"><input class="form-control '+type+'_tags" name="network['+id+'][profil][tag][]" value=""></div>');jQuery("."+type+"-remove-tag-btn").show()}function removeTag(type,id){jQuery("."+type+"_check_tags").last().remove();if(jQuery("."+type+"_check_tags").length===0)jQuery("."+type+"-remove-tag-btn").hide()}
function networkLimit(network,type,limit){var regX=/(<([^>]+)>)/ig;var text=jQuery("#"+network+"_textarea_"+type).val();var textLength=text.length;if(textLength>=limit-1){newText=text.substring(0,limit);jQuery("#"+network+"_textarea_"+type).val(" ");jQuery("#"+network+"_textarea_"+type).val(newText.replace(regX,""));var text=jQuery("#"+network+"_textarea_"+type).val();var textLength=text.length}var newLen=limit-textLength;jQuery("#"+network+"-count-character-"+type).html(newLen)}
function networkLimitAll(network,limit){var regX=/(<([^>]+)>)/ig;var url=jQuery("#"+network+"_url").val();var text=jQuery("#"+network+"_textarea_profil").val();jQuery("#"+network+"_url").removeClass("error");if(url.length!="0")if(url.indexOf("http://")==-1&&url.indexOf("https://")==-1){url="http://"+url;jQuery("#"+network+"_url").val(url)}var textLength=text.length+url.length;var newText=text;if(network=="twitter"){textLength=text.length;if(url.length!="0")limit=limit-23}if(textLength>=limit-1){newText=
text.substring(0,limit);if(network=="twitter"){var newTempLengthTwitter=limit;newText=text.substring(0,newTempLengthTwitter)}if(network=="xing"){var newTempLengthXing=limit-url.length;newText=text.substring(0,newTempLengthXing)}jQuery("#"+network+"_textarea_profil").val(" ");jQuery("#"+network+"_textarea_profil").val(newText.replace(regX,""));var text=jQuery("#"+network+"_textarea_profil").val();var textLength=text.length}var newLen=limit-textLength;jQuery("#"+network+"-count-character-profil").html(newLen)}
function checkUrl(s){var regexp=/^(https?:\/\/)?([\da-zA-Z\u00e4\u00f6\u00fc\u00c4\u00d6\u00dc\.-]+)\.([a-zA-Z\.]{2,7})([\/\w \.-]*)*\/?$/;return regexp.test(s)};